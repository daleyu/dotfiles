#!/bin/bashc

if [ "$#" -eq 0 ]; then
echo "Usage: ntemp <command>"
exit 1
fi

temp_file=$(mktemp)
"$@" > "$temp_file" 2>&1

if [ $? -ne 0 ]; then
echo "Command failed and temp file removed. : $temp_file"
else
echo "Command worked and temp file removed. see the file in Neovim"
fi

nvim "$temp_file"

rm "$temp_file"
